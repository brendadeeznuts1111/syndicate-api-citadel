api:
    # Server configuration
    basePath: /api/v3
    host: localhost:3004
    port: 3004
    protocol: http

    # Security configuration (OpenAPI 3.1 compatible)
    security:
      - cookieAuth:
          type: apiKey
          in: cookie
          name: sessionId
          description: "Session cookie for authentication"
      - csrfAuth:
          type: apiKey
          in: cookie
          name: csrfToken
          description: "CSRF protection token"
      - bearerAuth:
          type: http
          scheme: bearer
          bearerFormat: JWT
          description: "JWT Bearer token authentication"

    # API endpoint definitions (auto-generates OpenAPI spec)
    endpoints:
      - path: /rules/validate
        method: POST
        summary: Validate government compliance headers
        description: "Validates request headers against GOV compliance rules"
        tags: [GOV, VALIDATE]
        operationId: validateHeaders
        parameters:
          - name: files
            in: query
            description: "Array of rule files to validate against"
            schema: { type: array, items: { type: string } }
          - name: strict
            in: query
            description: "Enable strict validation mode"
            schema: { type: boolean, default: false }
        responses:
          200:
            description: Headers validation successful
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    valid: { type: boolean }
                    headers: { type: integer }
                    violations: { type: array, items: { type: string } }
                    timestamp: { type: string, format: date-time }
          400:
            description: Validation failed
        x-source: ["GOV-REQ-001", "GOV-HEADER-001"]

      - path: /rules/grep
        method: GET
